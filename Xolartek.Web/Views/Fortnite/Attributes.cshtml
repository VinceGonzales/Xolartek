@using System.Collections.Generic;
@using Xolartek.Web.Models;
@model IList<Schematic>
@section header {
<style>
    .bar-chart {
        background-color: #C7D9D9;
    }
</style>
<script>
    window.vmSchematics = @(Html.Raw(Newtonsoft.Json.JsonConvert.SerializeObject(Model)));
</script>
}
@section scripts {
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.13.0/d3.min.js"></script>
<script>
    var w = 200;
    var h = 100;
    var padding = 2;
    var dataset = [20, 40, 60, 80, 100];
    var svg = d3.select("body").append("svg").attr("width", w).attr("height", h).attr("class", "bar-chart");

    svg.selectAll("rect").data(dataset).enter().append("rect")
        .attr("x", function (d, i) {
            return i * (w / dataset.length);
        })
        .attr("y", function (d, i) {
            return h - d;  //adjusted for y origin
        })
        .attr("width", w / dataset.length - padding)
        .attr("height", function (d, i) {
            return d;
        })
        .style("fill", "#00CCCC");
</script>
}

<div class="container">
    <div class="row justify-content-md-center">
        <div class="col-md-2"><h3>Schematics</h3></div>
        <div class="col"><div id="pnlCanvas"></div></div>
    </div>
    <div class="row justify-content-md-center">
        <div class="col-md-auto"></div>
        <div class="col-md-4">
            <table class="table table-hover table-dark">
                <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Description</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (Schematic sch in Model)
                    {
                        <tr>
                            <td> - </td>
                            <td>@sch.Name</td>
                            <td>@sch.Description</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
        <div class="col-md-auto"></div>
    </div>
</div>
